<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vitals Tracker v1.15</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    padding: 0;
    background-color: #0e1116;
    color: #e6e6e6;
    font-family: Arial, Helvetica, sans-serif;
}

.container {
    max-width: 480px;
    margin: 20px auto;
    padding: 16px;
    border: 2px solid #4aa3df;
    border-radius: 8px;
}

h1 {
    text-align: center;
    font-size: 20px;
    margin-bottom: 10px;
}

.version {
    text-align: center;
    font-size: 12px;
    color: #9aa4ad;
    margin-bottom: 20px;
}

.section {
    margin-bottom: 18px;
}

label {
    display: block;
    margin-bottom: 6px;
    font-size: 14px;
}

input[type="number"],
textarea {
    width: 100%;
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #555;
    background-color: #1a1f26;
    color: #fff;
    font-size: 14px;
}

textarea {
    resize: vertical;
    min-height: 60px;
}

.vitals-row {
    display: flex;
    gap: 8px;
}

.vitals-row input {
    flex: 1;
}

.symptoms {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
}

.symptoms label {
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 6px;
}

button {
    width: 100%;
    padding: 10px;
    font-size: 15px;
    background-color: #4aa3df;
    color: #000;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background-color: #66b6ee;
}

.log {
    margin-top: 16px;
    font-size: 12px;
    background-color: #12161c;
    padding: 10px;
    border-radius: 6px;
    max-height: 200px;
    overflow-y: auto;
}

.log-entry {
    border-bottom: 1px solid #333;
    padding: 6px 0;
}

.footer {
    margin-top: 14px;
    font-size: 11px;
    text-align: center;
    color: #7f8b96;
}
</style>
</head>

<body>
<div class="container">
    <h1>Vitals Tracker</h1>
    <div class="version">Version 1.15 — Locked Baseline</div>

    <div class="section">
        <label>Blood Pressure</label>
        <div class="vitals-row">
            <input type="number" id="sys" placeholder="SYS">
            <input type="number" id="dia" placeholder="DIA">
            <input type="number" id="hr" placeholder="HR">
        </div>
    </div>

    <div class="section">
        <label>Symptoms</label>
        <div class="symptoms">
            <label><input type="checkbox" value="Dizziness">Dizziness</label>
            <label><input type="checkbox" value="Chest Tightness">Chest Tightness</label>
            <label><input type="checkbox" value="Sweating">Sweating</label>
            <label><input type="checkbox" value="Nausea">Nausea</label>
            <label><input type="checkbox" value="Headache">Headache</label>
            <label><input type="checkbox" value="Weakness">Weakness</label>
            <label><input type="checkbox" value="Anxiety">Anxiety</label>
            <label><input type="checkbox" value="Blurred Vision">Blurred Vision</label>
        </div>
    </div>

    <div class="section">
        <label>Notes</label>
        <textarea id="notes" placeholder="Context, activity, meds, how you feel…"></textarea>
    </div>

    <button onclick="saveEntry()">Save Entry</button>

    <div class="log" id="log"></div>

    <div class="footer">
        Local-only storage · No cloud · No alerts · Manual control
    </div>
</div>

<script>
function saveEntry() {
    const sys = document.getElementById('sys').value;
    const dia = document.getElementById('dia').value;
    const hr = document.getElementById('hr').value;
    const notes = document.getElementById('notes').value;

    const symptoms = [];
    document.querySelectorAll('.symptoms input:checked')
        .forEach(cb => symptoms.push(cb.value));

    if (!sys || !dia || !hr) {
        alert("Enter SYS, DIA, and HR.");
        return;
    }

    const entry = {
        time: new Date().toLocaleString(),
        sys,
        dia,
        hr,
        symptoms,
        notes
    };

    const data = JSON.parse(localStorage.getItem('vitals_v115') || '[]');
    data.unshift(entry);
    localStorage.setItem('vitals_v115', JSON.stringify(data));

    renderLog();
    clearInputs();
}

function renderLog() {
    const log = document.getElementById('log');
    const data = JSON.parse(localStorage.getItem('vitals_v115') || '[]');
    log.innerHTML = '';

    data.forEach(e => {
        const div = document.createElement('div');
        div.className = 'log-entry';
        div.innerHTML = `
            <strong>${e.time}</strong><br>
            BP: ${e.sys}/${e.dia} · HR: ${e.hr}<br>
            Symptoms: ${e.symptoms.join(', ') || 'None'}<br>
            Notes: ${e.notes || '-'}
        `;
        log.appendChild(div);
    });
}

function clearInputs() {
    document.getElementById('sys').value = '';
    document.getElementById('dia').value = '';
    document.getElementById('hr').value = '';
    document.getElementById('notes').value = '';
    document.querySelectorAll('.symptoms input').forEach(cb => cb.checked = false);
}

renderLog();
</script>
</body>
</html>
