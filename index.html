<!--
Vitals Tracker — BOF Version/Detail Notes (REQUIRED)
File: index.html
App Version Authority: js/version.js (do not hardcode versions here)
Base: v2.025e
Pass: Render Recovery + Swipe Feel
Pass order: File 2 of 9 (P0)
Prev file: js/version.js (File 1 of 9)
Next file: css/app.css (File 3 of 9)
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1324" />
  <title>Vitals Tracker</title>

  <!-- PWA -->
  <link rel="manifest" id="manifestLink" href="manifest.webmanifest" />
  <link rel="icon" href="icons/icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <!-- App CSS (single source) -->
  <link rel="stylesheet" href="css/app.css?v=20260119" />

  <!-- Minimal critical fallback (only for catastrophic CSS load failure) -->
  <style>
    html,body{height:100%;margin:0;background:#08101f;color:#eaf2ff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .noscript{padding:16px}
  </style>
</head>

<body>
  <noscript>
    <div class="noscript">
      This app requires JavaScript to run.
    </div>
  </noscript>

  <!-- App Shell -->
  <div id="appRoot" class="app-root">

    <!-- Top Header -->
    <header class="topbar" id="topbar">
      <div class="brand">
        <div class="brandIcon" aria-hidden="true">
          <!-- simple pulse icon -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M2 12h4l2-6 4 12 2-6h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="brandTitle">Vitals Tracker</div>
      </div>

      <div class="bootpill" id="bootText">BOOT…</div>
    </header>

    <!-- Swipe Deck (Home / Charts / Log / Settings / Add) -->
    <!-- NOTE: We are NOT adding Settings to rotation later per your rule,
         but the DOM still exists because the gear opens it. Rotation logic lives in panels.js. -->
    <main class="deck" id="panelDeck" aria-label="Vitals Tracker Panels">
      <div class="deckTrack" id="deckTrack">

        <!-- PANEL: HOME -->
        <section class="panel active" id="panelHome" data-panel="home" aria-label="Home">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Home</div>
              <div class="screenHeaderRight">
                <button class="iconBtn" id="btnSettings" type="button" aria-label="Settings">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="homeButtons">
              <button class="primaryBtn" id="btnGoAdd" type="button">Add Reading</button>
              <button class="ghostBtn" id="btnGoCharts" type="button">Charts</button>
              <button class="ghostBtn" id="btnGoLog" type="button">Log</button>

              <div class="homeRow">
                <button class="miniBtn" id="btnInstall" type="button" disabled>Install</button>
                <button class="miniBtn" id="btnClearData" type="button">Clear Data</button>
              </div>

              <div class="homeRow">
                <button class="dangerBtn" id="btnExit" type="button">Exit</button>
                <button class="miniBtn" id="btnSettingsHomeAlt" type="button" aria-label="Settings (alt)">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>

              <div class="homeHint">
                Data stays on your phone (local only). Pull down on Home to refresh (release).
              </div>

              <div class="homeFooter">
                <div class="homeVer" id="homeVersion">v?.???</div>
                <div class="homeSig">developed by Keyth Jyles</div>
              </div>
            </div>
          </div>
        </section>

        <!-- PANEL: CHARTS -->
        <section class="panel" id="panelCharts" data-panel="charts" aria-label="Charts">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Charts</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnHomeFromCharts" type="button">Home</button>
                <button class="iconBtn" id="btnSettingsFromCharts" type="button" aria-label="Settings">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="loadingPill" id="chartsLoading">Loading...</div>

            <div class="chartCard">
              <div class="chartWrap">
                <!-- chart.js MUST find this canvas -->
                <canvas id="chartCanvas" width="900" height="700" aria-label="Vitals chart"></canvas>
              </div>

              <!-- chart.js may populate this; kept present to prevent “legend vanished” -->
              <div class="chartLegend" id="chartLegend" aria-label="Chart legend"></div>
            </div>

            <div class="chartFooterSpacer"></div>
          </div>
        </section>

        <!-- PANEL: LOG -->
        <section class="panel" id="panelLog" data-panel="log" aria-label="Log">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Log</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnHomeFromLog" type="button">Home</button>
                <button class="iconBtn" id="btnSettingsFromLog" type="button" aria-label="Settings">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="loadingPill" id="logLoading">Loading...</div>

            <!-- log.js MUST find this container -->
            <div class="logList" id="logList" aria-label="Log list"></div>
            <div class="logEmpty" id="logEmpty" hidden>No readings yet.</div>

            <div class="logFooterSpacer"></div>
          </div>
        </section>

        <!-- PANEL: SETTINGS (NOT IN ROTATION; opened by gear only) -->
        <section class="panel" id="panelSettings" data-panel="settings" aria-label="Settings">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Settings</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnBackFromSettings" type="button">Back</button>
              </div>
            </div>

            <div class="settingsBody" id="settingsBody">
              <div class="settingsCard">
                <div class="settingsLine"><span class="muted">Version</span> <span id="settingsVersion">v?.???</span></div>
              </div>

              <!-- Placeholder for future toggles; do not remove -->
              <div class="settingsCard">
                <div class="muted">Settings are limited in this build. Use the gear for access; panel is not part of swipe rotation.</div>
              </div>
            </div>
          </div>
        </section>

        <!-- PANEL: ADD (UI exists; behavior owned by add.js) -->
        <section class="panel" id="panelAdd" data-panel="add" aria-label="Add Reading">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Add Reading</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnHomeFromAdd" type="button">Home</button>
              </div>
            </div>

            <div class="addBody" id="addBody">
              <!-- add.js will fully own this; kept minimal so app doesn’t “dead-end” -->
              <div class="addCard" id="addCard">
                <div class="muted">Add panel is present. If Save is not working, that will be repaired in add.js/storage.js later in this pass.</div>
                <button class="primaryBtn" id="btnSaveReading" type="button">Save (wired by add.js)</button>
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <!-- Scripts: order matters -->
  <!-- Version authority first (global VTVersion) -->
  <script src="js/version.js?v=20260119"></script>

  <!-- Core runtime / store -->
  <script src="js/utils.js?v=20260119"></script>
  <script src="js/storage.js?v=20260119"></script>
  <script src="js/store.js?v=20260119"></script>
  <script src="js/state.js?v=20260119"></script>

  <!-- UI + panels + gestures -->
  <script src="js/ui.js?v=20260119"></script>
  <script src="js/panels.js?v=20260119"></script>
  <script src="js/gestures.js?v=20260119"></script>

  <!-- Features -->
  <script src="js/chart.js?v=20260119"></script>
  <script src="js/log.js?v=20260119"></script>
  <script src="js/add.js?v=20260119"></script>

  <!-- PWA -->
  <script src="js/pwa.js?v=20260119"></script>

  <!-- App orchestrator LAST -->
  <script src="js/app.js?v=20260119"></script>

  <!-- Small post-boot sanity: unify settings version label -->
  <script>
    (function(){
      try{
        var v = window.VTVersion && window.VTVersion.getVersionString ? window.VTVersion.getVersionString() : "v?.???";
        var el = document.getElementById("settingsVersion");
        if(el) el.textContent = v;
      }catch(_){}
    })();
  </script>
</body>
</html>

<!--
Vitals Tracker — EOF Version/Detail Notes (REQUIRED)
File: index.html
App Version Authority: js/version.js
Pass: Render Recovery + Swipe Feel
Pass order: File 2 of 9 (P0)
Prev file: js/version.js (File 1 of 9)
Next file: css/app.css (File 3 of 9)
-->
```0
