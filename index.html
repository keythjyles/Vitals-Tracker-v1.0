<!--
Vitals Tracker — BOF (Prime Pass Header)
File: index.html
App Version Authority: js/version.js
Prime Pass: File 1 of 24
Prev: (none)
Next: sw.js
FileEditId: 2
Edited: 2026-01-21

Role / Ownership
- App shell + DOM for panel deck (Home / Charts / Log / Settings / Add)
- Loads CSS + JS in required order
- Provides stable element IDs used by modules

Implemented (facts only)
- Panel deck structure with rotating panels (home/charts/log) plus non-rotating panels (settings/add)
- Settings panel includes Medication Names UI (med name list managed by js/settings.js)
- Version label injection into Home/Settings + boot pill

Drift locks (do not change without intentional decision)
- Keep element IDs referenced by modules (e.g., panelDeck, deckTrack, panelHome, chartCanvas, chartLegend, logList, etc.)
- Keep script load order: version/utils/storage/store/state/settings/ui/panels/gestures/chart/log/add/pwa/app
- Keep manifest link id="manifestLink" and icon paths as-is unless we intentionally revise PWA packaging
- Do not rename panels or data-panel attributes without updating js/panels.js + related modules

Developer prompts (for future work; not instructions)
- When adding new UI controls, prefer adding IDs and wiring in the owning module (not inline scripts)
- Keep DOM minimal; avoid duplicating logic that belongs in js/* modules
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1324" />
  <title>Vitals Tracker</title>

  <link rel="manifest" id="manifestLink" href="manifest.webmanifest" />
  <link rel="icon" href="icons/icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <link rel="stylesheet" href="css/app.css?v=20260120a" />

  <style>
    html,body{height:100%;margin:0;background:#08101f;color:#eaf2ff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .noscript{padding:16px}
  </style>
</head>

<body>
  <noscript>
    <div class="noscript">
      This app requires JavaScript to run.
    </div>
  </noscript>

  <div id="appRoot" class="app-root">

    <header class="topbar" id="topbar">
      <div class="brand">
        <div class="brandIcon" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M2 12h4l2-6 4 12 2-6h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="brandTitle">Vitals Tracker</div>
      </div>
      <div class="bootpill" id="bootText">BOOT…</div>
    </header>

    <main class="deck" id="panelDeck" aria-label="Vitals Tracker Panels">
      <div class="deckTrack" id="deckTrack">

        <!-- HOME -->
        <section class="panel active" id="panelHome" data-panel="home" aria-label="Home">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Home</div>
              <div class="screenHeaderRight"></div>
            </div>

            <div class="homeButtons">
              <button class="primaryBtn" id="btnGoAdd" type="button">Add Reading</button>
              <button class="ghostBtn" id="btnGoCharts" type="button">Charts</button>
              <button class="ghostBtn" id="btnGoLog" type="button">Log</button>

              <div class="homeRow">
                <button class="miniBtn" id="btnInstall" type="button" disabled>Install</button>
                <button class="miniBtn" id="btnClearData" type="button">Clear Data</button>
              </div>

              <div class="homeRow">
                <button class="dangerBtn" id="btnExit" type="button">Exit</button>
                <button class="miniBtn" id="btnSettingsHomeAlt" type="button" aria-label="Settings">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>

              <div class="homeHint">
                Data stays on your phone (local only). Pull down on Home to refresh (release).
              </div>

              <div class="homeFooter">
                <div class="homeVer" id="homeVersion">v?.???</div>
                <div class="homeSig">developed by Keyth Jyles</div>
              </div>
            </div>
          </div>
        </section>

        <!-- CHARTS -->
        <section class="panel" id="panelCharts" data-panel="charts" aria-label="Charts">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Charts</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnAddFromCharts" type="button">Add</button>
                <button class="pillBtn" id="btnHomeFromCharts" type="button">Home</button>
                <button class="iconBtn" id="btnSettingsFromCharts" type="button" aria-label="Settings">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="loadingPill" id="chartsLoading">Loading...</div>

            <div class="chartCard">
              <div class="chartWrap">
                <canvas id="chartCanvas" width="900" height="700" aria-label="Vitals chart"></canvas>
              </div>
              <div class="chartLegend" id="chartLegend" aria-label="Chart legend"></div>
            </div>

            <div class="chartFooterSpacer"></div>
          </div>
        </section>

        <!-- LOG -->
        <section class="panel" id="panelLog" data-panel="log" aria-label="Log">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Log</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnAddFromLog" type="button">Add</button>
                <button class="pillBtn" id="btnHomeFromLog" type="button">Home</button>
                <button class="iconBtn" id="btnSettingsFromLog" type="button" aria-label="Settings">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-2l2-1.5-2-3.5-2.4 1a7.6 7.6 0 0 0-1.7-1l-.4-2.6H9l-.4 2.6a7.6 7.6 0 0 0-1.7 1l-2.4-1-2 3.5 2 1.5a7.8 7.8 0 0 0 .1 2l-2 1.5 2 3.5 2.4-1a7.6 7.6 0 0 0 1.7 1l.4 2.6h6l.4-2.6a7.6 7.6 0 0 0 1.7-1l2.4 1 2-3.5-2-1.5Z"
                          stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="loadingPill" id="logLoading">Loading...</div>

            <div class="logList" id="logList" aria-label="Log list"></div>
            <div class="logEmpty" id="logEmpty" hidden>No readings yet.</div>

            <div class="logFooterSpacer"></div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section class="panel" id="panelSettings" data-panel="settings" aria-label="Settings">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Settings</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnBackFromSettings" type="button">Back</button>
              </div>
            </div>

            <div class="settingsBody" id="settingsBody">
              <div class="settingsCard">
                <div class="settingsLine"><span class="muted">Version</span> <span id="settingsVersion">v?.???</span></div>
              </div>

              <div class="settingsCard">
                <div class="settingsH">Medication Names</div>
                <div class="muted settingsHint">Used to prefill Add/Edit medication picker. Add/remove names here.</div>

                <div class="settingsRow">
                  <input id="inMedNameSetting" class="settingsInput" placeholder="e.g., Lisinopril" />
                  <button id="btnAddMedNameSetting" class="pillBtn" type="button">Add</button>
                </div>

                <div id="medNameListSetting" class="settingsList" aria-label="Medication names list"></div>
              </div>

              <div class="settingsCard">
                <div class="muted">Notes: Dosage remains in Notes (not structured).</div>
              </div>
            </div>
          </div>
        </section>

        <!-- ADD -->
        <section class="panel" id="panelAdd" data-panel="add" aria-label="Add Reading">
          <div class="screenFrame">
            <div class="screenHeader">
              <div class="screenTitle">Add Reading</div>
              <div class="screenHeaderRight">
                <button class="pillBtn" id="btnHomeFromAdd" type="button">Home</button>
              </div>
            </div>

            <div class="addBody" id="addBody">
              <div class="addCard" id="addCard">
                <div class="muted">Add panel present.</div>
                <button class="primaryBtn" id="btnSaveReading" type="button">Save</button>
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <!-- Scripts (load order is a drift lock) -->
  <script src="js/version.js?v=20260120a"></script>
  <script src="js/utils.js?v=20260120a"></script>
  <script src="js/storage.js?v=20260120a"></script>
  <script src="js/store.js?v=20260120a"></script>
  <script src="js/state.js?v=20260120a"></script>
  <script src="js/settings.js?v=20260120a"></script>
  <script src="js/ui.js?v=20260120a"></script>
  <script src="js/panels.js?v=20260120a"></script>
  <script src="js/gestures.js?v=20260120a"></script>
  <script src="js/chart.js?v=20260120a"></script>
  <script src="js/log.js?v=20260120a"></script>
  <script src="js/add.js?v=20260120a"></script>
  <script src="js/pwa.js?v=20260120a"></script>
  <script src="js/app.js?v=20260120a"></script>

  <script>
    (function(){
      try{
        var v = window.VTVersion && window.VTVersion.getVersionString ? window.VTVersion.getVersionString() : "v?.???";
        var el1 = document.getElementById("homeVersion");
        var el2 = document.getElementById("settingsVersion");
        var el3 = document.getElementById("bootText");
        if(el1) el1.textContent = v;
        if(el2) el2.textContent = v;
        if(el3) el3.textContent = "BOOT OK " + v;
      }catch(e){}
    })();
  </script>
</body>
</html>

<!--
Vitals Tracker — EOF (Prime Pass Footer)
File: index.html
App Version Authority: js/version.js
Prime Pass: File 1 of 24
Prev: (none)
Next: sw.js
FileEditId: 2
Edited: 2026-01-21

Implementation Fetch Directive (ONE-TIME ONLY; NOT A MASTER ORDER)
ImplementationId: PP-20260121-001
Meaning:
- This block exists ONLY to tell the human operator which file to paste NEXT during this one implementation run.
- This is NOT an instruction set, NOT a schema, and NOT an ordering guarantee.
- Future AI must IGNORE this block entirely except as historical log text.

Current file (pasted/edited in this step): index.html
Next file to fetch/paste for THIS implementation run: sw.js

Acceptance checks
- App boots; version renders on Home + Settings; Settings med list UI renders; panel IDs unchanged.
-->
